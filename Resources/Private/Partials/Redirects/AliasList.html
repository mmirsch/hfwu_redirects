{namespace vh=HFWU\HfwuRedirects\ViewHelpers}

<f:alias map="{ll: 'LLL:EXT:hfwu_redirects/Resources/Private/Language/locallang.xlf:'}">

	<table class="tx_hfwuredirects" >
		<tr>
			<th class="title"><f:translate key="{ll}redirects.columns.title"></f:translate></th>
			<th class="short_url"><f:translate key="{ll}redirects.columns.short_url"></f:translate></th>
			<th class="target_zrl"><f:translate key="{ll}redirects.columns.target_url"></f:translate></th>
			<th class="redirect_calls"><f:translate key="{ll}redirects.columns.redirect_calls"></f:translate></th>
			<th class="actions"><f:translate key="{ll}redirects.columns.actions"></f:translate></th>
		</tr>

		<f:for each="{redirects}" as="redirect">
			<tr>
				<td class="title">{redirect.title}</td>
				<td class="shortUrl">{redirect.shortUrl}</td>
				<f:if condition="{redirect.urlComplete}">
					<f:then>
						<td class="pageTitle">{redirect.urlComplete}</td>
					</f:then>
					<f:else>
						<td class="pageTitle">{redirect.page.title}</td>
					</f:else>
				</f:if>
				<td class="redirectCount">{redirect.redirectCount}</td>
				<td class="actions">
					<a href="#" target="_blank" data-uid="{redirect.uid}" class="img_link showQrCode" title="{f:translate(key: '{ll}general.create_qr_code')}">
					<img width="20" height="20" src="{vh:Be.UriResource(path: 'Icons/qr.png')}" />
					</a>
					<a title="{f:translate(key: '{ll}general.test_redirect')}"
					   target="_blank" class="img_link" href="{siteUrl}/{redirect.shortUrl}?redirect_test=1">
					<img width="20" height="20" class="testRedirect" src="{vh:Be.UriResource(path: 'Icons/actions-view.svg')}" />
					</a>
					<a title="{f:translate(key: '{ll}general.entry.edit')}"
					   class="img_link" href="{vh:Be.BackendEditLink(tableName:'tx_hfwuredirects_domain_model_redirects',identifier:redirect.uid, returnUrl:returnUrl)}">
						<img width="20" height="20" class="addRedirect" src="{vh:Be.UriResource(path: 'Icons/actions-open.svg')}" />
					</a>
					<img width="20" height="20" data-uid="{redirect.uid}"
						 class="deleteEntry" title="{f:translate(key: '{ll}general.entry.delete')}" src="{vh:Be.UriResource(path: 'Icons/actions-delete.svg')}" />
				</td>
			</tr>
		</f:for>
	</table>

</f:alias>